
## **Lesson 2.7: Data Quality, Validation, Freshness**

### **Why This Matters:**

**"Garbage in = Garbage out"**

Bad data leads to:
- ❌ Wrong business decisions
- ❌ Poor ML model predictions
- ❌ Lost customer trust
- ❌ Compliance violations

---

### **1. Data Quality Dimensions:**

#### **Accuracy**
"Is the data correct?"

**Example:**
```
❌ Bad: customer_age = 250 (impossible)
✅ Good: customer_age = 25
```

---

#### **Completeness**
"Are all required fields filled?"

**Example:**
```
❌ Bad: customer_email = NULL (missing)
✅ Good: customer_email = "ahmed@email.com"
```

---

#### **Consistency**
"Is data the same across systems?"

**Example:**
```
❌ Bad: 
  System A shows: customer_name = "Ahmed Ali"
  System B shows: customer_name = "A. Ali"
  
✅ Good: Both show "Ahmed Ali"
```

---

#### **Timeliness (Freshness)**
"Is the data current?"

**Example:**
```
❌ Bad: Stock prices from yesterday (for trading)
✅ Good: Stock prices from 1 second ago
```

---

### **2. Data Validation**

**What it is:** Automated checks to catch bad data

**Common validations:**

```python
# Check for nulls
assert df['customer_id'].notnull().all()

# Check data types
assert df['age'].dtype == 'int'

# Check ranges
assert (df['age'] >= 0) & (df['age'] <= 120)

# Check uniqueness
assert df['customer_id'].is_unique

# Check referential integrity
assert df['customer_id'].isin(customers_df['customer_id']).all()
```

---

### **3. Data Freshness**

**Definition:** How recent is the data?

**Why it matters:**
- Real-time fraud detection needs fresh data (seconds)
- Monthly reports can use day-old data

**Example SLAs (Service Level Agreements):**
```
Dashboard: Data refreshed every 15 minutes
Daily report: Data from last midnight
ML model: Retrained weekly with past month's data
```

**How to monitor:**
```sql
-- Check when data was last updated
SELECT MAX(updated_at) as last_update
FROM orders;

-- If last_update > 1 hour ago, raise alert
```

---

### **Real-World Example:**

**Bad Data Impact:**
```
E-commerce site shows product as "In Stock"
   ↓
Customer orders
   ↓
Inventory system says "Out of Stock" (data was stale)
   ↓
Order cancelled, customer angry
```

**Solution:**
- Validate inventory count > 0 before showing "In Stock"
- Refresh inventory data every 5 minutes
- Alert if inventory data is older than 10 minutes

---